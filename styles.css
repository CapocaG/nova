:root{
  --bg:#0f0b1a;
  --accent:#ff6b9a;
  --muted:#d7cde6;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter, 'Segoe UI', Roboto, system-ui, -apple-system, 'Helvetica Neue', Arial;
  background: radial-gradient(ellipse at 10% 10%, rgba(255,107,154,0.06), transparent 10%),
              radial-gradient(ellipse at 90% 90%, rgba(113,84,156,0.06), transparent 10%),
              var(--bg);
  color:var(--muted);
}
.overlay{position:relative;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}
#canvas{position:fixed;inset:0;z-index:0}
.controls{position:fixed;left:1rem;top:1rem;z-index:3;background:rgba(255,255,255,0.04);backdrop-filter:blur(6px);padding:0.5rem 0.75rem;border-radius:10px;display:flex;gap:0.5rem;align-items:center}
.controls input{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--muted);padding:6px 8px;border-radius:6px}
.controls button{background:linear-gradient(90deg,var(--accent),#a86bbf);border:0;padding:6px 10px;border-radius:8px;color:white;cursor:pointer}
h1#message{position:relative;z-index:2;font-size:2rem;text-align:center;margin:0 1rem 1.25rem 1rem;max-width:900px}
.phrase{color:var(--muted)}
#phrase{position:relative;z-index:2;font-size:1.05rem;text-align:center;margin:0 1rem 1.25rem 1rem;max-width:900px;opacity:0.95}

/* estilo de dedicatoria: cursiva y comillas */
#phrase{font-style:italic;color:rgba(255,230,240,0.95)}
#phrase::before, #phrase::after{color:rgba(255,200,220,0.9);font-size:1.6rem;position:relative}
#phrase::before{content:'“';margin-right:6px}
#phrase::after{content:'”';margin-left:6px}

@keyframes pulseOnce{
  0%{transform:scale(1);filter:brightness(1)}
  40%{transform:scale(1.02);filter:brightness(1.08)}
  100%{transform:scale(1);filter:brightness(1)}
}
.phrase-pulse{animation:pulseOnce 850ms ease forwards}

.player-wrap{position:relative;z-index:3;display:flex;justify-content:center;margin:1rem 0}
.player-wrap iframe{border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.35)}
@media (max-width:600px){
  .player-wrap iframe{height:120px}
}

.player-toggle{position:absolute;left:8px;top:8px;z-index:5;background:rgba(0,0,0,0.45);color:white;border:0;padding:6px 8px;border-radius:8px;cursor:pointer}
.player-wrap.hidden{opacity:0;transform:translateY(-6px);pointer-events:none;transition:opacity 300ms ease, transform 300ms ease}
.player-wrap{transition:opacity 320ms ease, transform 320ms ease}

/* decorative overlay for the player to mimic the attached design */
.player-frame{position:relative;display:inline-block}
.player-overlay{position:absolute;inset:0;pointer-events:none;border-radius:12px;display:flex;align-items:center;gap:12px;color:#fff;background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.55));padding:14px}
.player-left{width:120px;height:120px;border-radius:8px;background:linear-gradient(180deg,#222,#111);box-shadow:inset 0 0 40px rgba(255,255,255,0.03);flex:0 0 120px}
.player-center{flex:1;display:flex;flex-direction:column;gap:8px}
.player-center .meta{font-family:system-ui,Segoe UI,Roboto,sans-serif}
.player-center .title{font-weight:700;font-size:1.05rem}
.player-center .artist{font-size:0.85rem;opacity:0.9}
.progress{height:6px;background:rgba(255,255,255,0.08);border-radius:6px;overflow:hidden}
.progress-bar{width:30%;height:100%;background:linear-gradient(90deg,#ff8fb2,#d47ad7)}
.player-right{width:120px;display:flex;align-items:center;justify-content:center}
.player-right .controls{display:flex;gap:8px}
.player-right .ctrl{background:rgba(255,255,255,0.06);border:0;color:white;padding:6px 8px;border-radius:6px}

@media (max-width:600px){
  .player-overlay{padding:8px}
  .player-left{width:84px;height:84px}
  .player-right{width:84px}
}
.credit{position:fixed;right:1rem;bottom:1rem;z-index:3;opacity:0.6;font-size:0.85rem}

/* Small hearts that appear on click */
.heart{
  position:absolute;pointer-events:none;will-change:transform,opacity;z-index:4
}

.preview{position:fixed;left:1rem;top:4.5rem;z-index:3;display:flex;flex-direction:row;gap:6px;align-items:center;max-width:36vw;overflow:auto;padding:6px}
.preview img{height:48px;border-radius:6px;object-fit:cover;border:1px solid rgba(255,255,255,0.06)}

.saturn-controls{position:fixed;left:1rem;top:9.5rem;z-index:3}

/* Carrusel grande de fotos (memory/gallery) */
.gallery{
  position:fixed;right:1rem;top:1rem;z-index:3;display:flex;flex-direction:column;gap:8px;align-items:center;max-width:38vw;pointer-events:auto
}
.gallery-view{
  width:320px;height:190px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center;position:relative
}
.gallery-view img{max-width:100%;max-height:100%;object-fit:cover;opacity:0;transform:scale(1.05);transition:opacity 600ms ease, transform 800ms cubic-bezier(.2,.9,.2,1)}
.gallery-view img.visible{opacity:1;transform:scale(1)}
.gallery-controls{display:flex;gap:6px}
.gallery-controls button{padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.03);color:var(--muted);cursor:pointer}

@media (max-width:600px){
  h1#message{font-size:1.25rem}
  .controls{left:0.5rem;right:0.5rem}
}

/* Responsive adjustments */
@media (max-width:900px){
  h1#message{font-size:1.5rem}
  #phrase{font-size:0.95rem}
}

@media (max-width:600px){
  #phrase{font-size:0.86rem;margin-top:8px}
  h1#message{font-size:1.1rem;margin-bottom:8px}
  .gallery{display:none}
  .preview{display:none}
}

/* Mobile-friendly footer: centered, readable and avoids overlap */
@media (max-width:600px){
  .credit{
    position:fixed;
    left:0.75rem;
    right:0.75rem;
    bottom:0.75rem;
    transform:none;
    text-align:center;
    font-size:0.78rem;
    padding:8px 12px;
    border-radius:10px;
    background:rgba(0,0,0,0.45);
    max-width:calc(100% - 1.5rem);
    box-shadow:0 6px 18px rgba(0,0,0,0.25);
    opacity:0.95;
    z-index:6;
  }
}

/* make canvas cover and scale on mobile nicely */
canvas#canvas{width:100%;height:100%}
